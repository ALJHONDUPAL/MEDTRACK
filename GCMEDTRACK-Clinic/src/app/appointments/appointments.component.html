<div class="appointments-container">
    <div class="header-controls">
      <button class="upcoming-btn">Upcoming</button>
      <div class="filters">
        <div class="student-year">
          Student Year
          <select [(ngModel)]="selectedYear" (change)="onYearChange()">
            <option *ngFor="let year of yearLevels">{{year}}</option>
          </select>
        </div>
        <div class="student-department">
          Department
          <select [(ngModel)]="selectedDepartment" (change)="onDepartmentChange()">
            <option *ngFor="let dept of departments">{{dept}}</option>
          </select>
        </div>
        <div class="student-slot">
          Student Slot
          <span class="slot-count" [class.full]="currentBookings >= totalSlots">
            {{currentBookings}}/{{totalSlots}}
          </span>
        </div>
      </div>
    </div>
  
    <table class="appointments-table">
      <thead>
        <tr>
          <th>Student Name</th>
          <th>Department</th>
          <th>Add Date</th>
          <th>Purpose</th>
          <th>Year Level</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let appointment of filteredAppointments">
          <td>
            <div class="student-info">
              <img [src]="appointment.avatar" alt="Student avatar">
              <div>
                <div class="name">{{appointment.studentName}}</div>
                <div class="id">{{appointment.studentId}}</div>
              </div>
            </div>
          </td>
          <td>{{appointment.department}}</td>
          <td>
            <div>{{appointment.date}}</div>
            <div class="time">{{appointment.time}}</div>
          </td>
          <td>{{appointment.purpose}}</td>
          <td>{{appointment.yearLevel}} Year</td>
          <td class="action-buttons">
            <div *ngIf="appointment.status === 'Pending'">
              <button class="accept-btn" (click)="acceptAppointment(appointment)">
                Accept
              </button>
              <button class="cancel-btn" (click)="cancelAppointment(appointment)">
                Cancel
              </button>
            </div>
            <div *ngIf="appointment.status === 'Accepted'" class="status-accepted">
              Accepted
            </div>
            <div *ngIf="appointment.status === 'Cancelled'" class="status-cancelled">
              Cancelled
            </div>
            <button class="delete-btn" (click)="deleteAppointment(appointment)">
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  